---
layout: post
title : Linux Shell
author: 赵何宇
---

> Linux下shell的学习笔记,随学随记

#### shell 变量：
shell变量是由shell程序设置的特殊变量。shell变量中有一部分是环境变量，有一部分是局部变量，这些变量保证了shell的正常运行

|变量 	| 说明 	|
| ---- | ----------------------------------------------------------------- |
| $0 |	当前脚本的文件名 |
| $n |	传递给脚本或函数的参数。n 是一个数字，表示第几个参数。例如，第一个参数是$1，第二个参数是$2。|
| $# |	传递给脚本或函数的参数个数。|
| $* |	传递给脚本或函数的所有参数。|
| $@ |	传递给脚本或函数的所有参数。被双引号(" ")包含时，与 $* 稍有不同，下面将会讲到。|
| $? |	上个命令的退出状态，或函数的返回值。|
| $$ |	当前Shell进程ID。对于 Shell 脚本，就是这些脚本所在的进程ID。|

#### 关系运算符

 |运算符 	| 说明 | 举例 |
 | ---- | --------------------------------------------------------------- | -------- |
 | -eq 	| 检测两个数是否相等，相等返回 true。 	| [ $a -eq $b ] 返回 true。|
 | -ne 	| 检测两个数是否相等，不相等返回 true。 	| [ $a -ne $b ] 返回 true。|
 | -gt 	| 检测左边的数是否大于右边的，如果是，则返回 true。 	| [ $a -gt $b ] 返回 false。|
 | -lt 	| 检测左边的数是否小于右边的，如果是，则返回 true。 	| [ $a -lt $b ] 返回 true。|
 | -ge 	| 检测左边的数是否大等于右边的，如果是，则返回 true。 	| [ $a -ge $b ] 返回 false。|
 | -le 	| 检测左边的数是否小于等于右边的，如果是，则返回 true 	| [ $a -le $b ] 返回 true。|

#### 布尔运算符

! 非运算

-o 或运算(or)

-a 与运算(and)

#### 字符串 和 字符串运算符

1. 获取字符串长度  ${#var}
2. 查找字符串 
```
animal="dog, pig, cat, lion and so on"     
echo `expr index "$animal" cat`
```
3. = 和 != 判断俩个字符串是否相等;
4. -z 、 -n 或者直接将字符串代入 判断字符串长度是否为零（-z当字符串长度为0返回 true）

#### 文件测试运算符
| 运算符 	| 说明 |
| ---- | ----------------------------------------------------------------- |
| -b file |	检测文件是否是块设备文件，如果是，则返回 true。|
| -c file |	检测文件是否是字符设备文件，如果是，则返回 true |
| -d file |	检测文件是否是目录，如果是，则返回 true。|
| -f file |	检测文件是否是普通文件（既不是目录，也不是设备文件），如果是，则返回 true。|
| -g file |	检测文件是否设置了 SGID 位，如果是，则返回 true。|
| -k file |	检测文件是否设置了粘着位(Sticky Bit)，如果是，则返回 true。|
| -p file |	检测文件是否是具名管道，如果是，则返回 true。|
| -u file |	检测文件是否设置了 SUID 位，如果是，则返回 true。|
| -r file |	检测文件是否可读，如果是，则返回 true。|
| -w file |	检测文件是否可写，如果是，则返回 true。|
| -x file |	检测文件是否可执行，如果是，则返回 true。|
| -s file |	检测文件是否为空（文件大小是否大于0），不为空返回 true。|
| -e file |	检测文件（包括目录）是否存在，如果是，则返回 true。|






